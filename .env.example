# Configuration de la base de données
MONGODB_URI=mongodb://localhost:27017/invoice-app

GRAPHQL_ENDPOINT=http://localhost:4000/graphql

# Sécurité
JWT_SECRET=your_jwt_secret_key

# Configuration SMTP pour l'envoi d'emails
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password
FROM_EMAIL=contact@example.com

# URLs
FRONTEND_URL=http://localhost:5173

# Stripe (paiements)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# Configuration du serveur
PORT=4000
NODE_ENV=development

# Logging
LOG_LEVEL=debug

# ==================== CLOUDFLARE R2 CONFIGURATION ====================
# Credentials Cloudflare R2 (partagés pour tous les buckets)
R2_ACCESS_KEY_ID=your_r2_access_key_id
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_API_URL=https://your_account_id.r2.cloudflarestorage.com
R2_PUBLIC_URL=https://pub-your-main-bucket.r2.dev

# --- Bucket: Images utilisateur ---
USER_IMAGE_BUCKET=user
USER_IMAGE_URL=https://pub-your-user-images.r2.dev

# --- Bucket: Images de profil ---
PROFILE_IMAGE_BUCKET=profil
PROFILE_IMAGE_URL=https://pub-your-profile-images.r2.dev

# --- Bucket: Images d'entreprise (logos) ---
COMPANY_IMAGE_BUCKET=image-company
COMPANY_IMAGE_URL=https://pub-your-company-images.r2.dev

# --- Bucket: Signatures mail (images de profil et logos réseaux sociaux) ---
SIGNATURE_BUCKET=image-signature
SIGNATURE_URL=https://pub-your-signature-bucket.r2.dev

# --- Bucket: OCR (reçus de dépenses) ---
OCR_BUCKET=ocr
OCR_URL=https://pub-your-ocr-bucket.r2.dev

# --- Bucket: Logos réseaux sociaux ---
LOGO_BUCKET=logo-rs
LOGO_URL=https://pub-your-logo-bucket.r2.dev

# --- Bucket: Transferts de fichiers ---
TRANSFER_BUCKET=app-transfers-prod
TRANSFER_URL=https://pub-your-transfer-bucket.r2.dev

# Configuration Banking System
BANKING_PROVIDER=mock
DEFAULT_BANKING_PROVIDER=mock
LOG_BANKING_REQUESTS=true

# Bridge API Configuration
BRIDGE_CLIENT_ID=your_bridge_client_id
BRIDGE_CLIENT_SECRET=your_bridge_client_secret
BRIDGE_BASE_URL=https://api.bridgeapi.io
BRIDGE_API_VERSION=v3
BRIDGE_WEBHOOK_SECRET=your_bridge_webhook_secret
BRIDGE_ENVIRONMENT=sandbox
BRIDGE_REDIRECT_URI=http://localhost:3000/banking/callback
BACKEND_URL=http://localhost:4000

# Stripe Banking Configuration (différent du Stripe Connect)
STRIPE_BANKING_SECRET_KEY=sk_test_your_stripe_banking_secret_key
STRIPE_BANKING_PUBLISHABLE_KEY=pk_test_your_stripe_banking_publishable_key
STRIPE_BANKING_WEBHOOK_SECRET=whsec_your_stripe_banking_webhook_secret
STRIPE_API_VERSION=2023-10-16

# PayPal Configuration
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_BASE_URL=https://api.paypal.com
PAYPAL_WEBHOOK_ID=your_paypal_webhook_id


# Mock Provider Configuration (pour les tests)
MOCK_DELAY=1000
MOCK_FAILURE_RATE=0.05

# Configuration Redis pour PubSub (WebSocket subscriptions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==================== OCR CONFIGURATION ====================
# Provider OCR par défaut: claude-vision, mindee, google-document-ai, mistral-ocr
OCR_PROVIDER=claude-vision

# Désactiver Claude Vision (pour utiliser les autres providers)
# OCR_DISABLE_CLAUDE=true

# Claude Vision API (Anthropic) - Provider par défaut
ANTHROPIC_API_KEY=your_anthropic_api_key
CLAUDE_VISION_MODEL=claude-sonnet-4-20250514
CLAUDE_HAIKU_MODEL=claude-haiku-4-20250514

# Mindee OCR (fallback 1) - 250 pages gratuites/mois
MINDEE_API_KEY=your_mindee_api_key

# Google Document AI (fallback 2) - 1000 pages gratuites/mois
GOOGLE_CLOUD_PROJECT_ID=your_project_id
GOOGLE_DOCUMENT_AI_PROCESSOR_ID=your_processor_id
GOOGLE_DOCUMENT_AI_LOCATION=eu
GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# Mistral OCR (fallback 3)
MISTRAL_API_KEY=your_mistral_api_key

# ==================== QUOTAS OCR PAR PLAN ====================
# Plan par défaut pour les nouveaux utilisateurs
DEFAULT_USER_PLAN=FREE

# Quotas mensuels par plan (configurable)
OCR_QUOTA_FREE=5
OCR_QUOTA_FREELANCE=50
OCR_QUOTA_TPE=200
OCR_QUOTA_ENTREPRISE=1000
