# Types de réponse pour les transactions (legacy queries)
# NOTE: Le type Transaction principal est défini dans types/banking.graphql

type TransactionResponse {
  success: Boolean!
  message: String
  transactions: [Transaction!]
}

type SyncTransactionResponse {
  success: Boolean!
  message: String
  stats: SyncStats
}

type SyncStats {
  created: Int!
  updated: Int!
  errors: Int!
}

type TransactionStatsResponse {
  success: Boolean!
  stats: TransactionStats
}

type TransactionStats {
  totalIncome: Float!
  totalExpenses: Float!
  balance: Float!
  transactionCount: Int!
  categoryBreakdown: [CategoryBreakdown!]!
}

type CategoryBreakdown {
  category: String!
  amount: Float!
  percentage: Float!
}

# Extensions des types existants
extend type Query {
  # Récupère les transactions récentes de l'utilisateur
  getRecentTransactions(limit: Int): TransactionResponse!

  # Récupère les statistiques des transactions
  getTransactionStats: TransactionStatsResponse!
}

extend type Mutation {
  # Synchronise les transactions Bridge avec la base de données locale
  syncBridgeTransactions: SyncTransactionResponse!
}
