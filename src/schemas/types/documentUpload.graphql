"""
Types GraphQL pour l'upload de documents vers Cloudflare R2
"""

type DocumentUploadResult {
  success: Boolean!
  key: String
  url: String
  contentType: String
  fileName: String
  fileSize: Int
  message: String
}

type DocumentDeleteResult {
  success: Boolean!
  message: String
}

type PromoteTemporaryFileResult {
  success: Boolean!
  key: String
  url: String
  message: String
}

extend type Mutation {
  """
  Upload un document vers Cloudflare R2
  """
  uploadDocument(
    file: Upload!
    folderType: String
  ): DocumentUploadResult!
  
  """
  Promeut un fichier temporaire en fichier permanent (d√©place de temp/ vers ocr/)
  """
  promoteTemporaryFile(
    tempKey: String!
  ): PromoteTemporaryFileResult!
  
  """
  Supprime un document de Cloudflare R2
  """
  deleteDocument(
    key: String!
  ): DocumentDeleteResult!
}